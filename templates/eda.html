{% extends 'base.html' %}
{% block title %}Data Insights{% endblock %}
{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-md-10">
        <div class="card shadow-lg">
            <div class="card-header text-center">
                <i class="fas fa-chart-bar me-2"></i>Data Insights & Exploratory Data Analysis
            </div>
            <div class="card-body p-4">
                <div class="alert alert-info border-0 mb-4">
                    <h6 class="mb-2"><i class="fas fa-database me-2"></i>Dataset Overview</h6>
                    <p class="mb-0"><strong>70,000 records</strong> from cardio_train.csv featuring demographics, vital
                        signs, and lifestyle factors. Target variable is balanced: 50% with cardiovascular disease, 50%
                        without.</p>
                </div>

                <h5 class="mb-3 text-dark">
                    <i class="fas fa-lightbulb me-2"></i>Key Statistical Insights
                </h5>

                <div class="row mb-4">
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-dark">
                                    <i class="fas fa-calendar-alt me-2"></i>Age Distribution
                                </h6>
                                <ul class="mb-0">
                                    <li>Mean: ~53 years</li>
                                    <li>Range: 30-65 years</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-dark">
                                    <i class="fas fa-venus-mars me-2"></i>Gender Distribution
                                </h6>
                                <ul class="mb-0">
                                    <li>Men: 65%</li>
                                    <li>Women: 35%</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-success">
                                    <i class="fas fa-ruler-vertical me-2"></i>Physical Measurements
                                </h6>
                                <ul class="mb-0">
                                    <li>Mean Height: 164 cm</li>
                                    <li>Mean Weight: 74 kg</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-danger">
                                    <i class="fas fa-heartbeat me-2"></i>Blood Pressure
                                </h6>
                                <ul class="mb-0">
                                    <li>Systolic Mean: 129 mmHg</li>
                                    <li>Diastolic Mean: 97 mmHg</li>
                                    <li>Note: Contains outliers</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-info">
                                    <i class="fas fa-vial me-2"></i>Lab Results
                                </h6>
                                <ul class="mb-0">
                                    <li>Cholesterol Mean: 1.37</li>
                                    <li>Glucose Mean: 1.23</li>
                                    <li>Mostly normal levels</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="card border-0 bg-light h-100">
                            <div class="card-body">
                                <h6 class="text-warning">
                                    <i class="fas fa-running me-2"></i>Lifestyle Factors
                                </h6>
                                <ul class="mb-0">
                                    <li>Smokers: 8.8%</li>
                                    <li>Alcohol Consumers: 5.4%</li>
                                    <li>Physically Active: 80.4%</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <h5 class="mb-3 text-dark">
                    <i class="fas fa-chart-pie me-2"></i>Data Visualizations
                </h5>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="card border-0 shadow-sm">
                            <img src="/static/eda_boxplot.png" alt="Blood Pressure Distribution" class="card-img-top">
                            <div class="card-body">
                                <h6 class="text-center">Blood Pressure Distribution</h6>
                                <p class="text-muted small text-center mb-0">
                                    Boxplot showing ap_hi (~120-130 mmHg) and ap_lo (~80 mmHg) with high outliers
                                    indicating extreme values
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card border-0 shadow-sm">
                            <img src="/static/eda_heatmap.png" alt="Correlation Heatmap" class="card-img-top">
                            <div class="card-body">
                                <h6 class="text-center">Feature Correlation Heatmap</h6>
                                <p class="text-muted small text-center mb-0">
                                    Strong correlation between pulse_pressure & ap_hi (0.84). Age shows moderate
                                    correlation with cardio risk (0.24)
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning border-0">
                    <h6><i class="fas fa-exclamation-triangle me-2"></i>Data Quality Notes</h6>
                    <p class="mb-0">The dataset contains some outliers in blood pressure measurements. These were
                        identified during EDA and handled appropriately during preprocessing to ensure model
                        reliability.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}